<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body, html,#allmap {width: 100%;height: 100%;overflow: hidden;hidden;margin:0;}
</style>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=01ab9abebfe42e54d3dbb3c82c43fd54"></script>
<title>显示标注点</title>
</head>
<body>
<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">

var map = new BMap.Map("allmap");
map.centerAndZoom(new BMap.Point(<?=$point['x']?>, <?=$point['y']?>), 14);
map.addControl(new BMap.NavigationControl());    
map.addControl(new BMap.ScaleControl());    
map.addControl(new BMap.OverviewMapControl()); 
<?php 
	foreach ($list as $key => $value) {
		echo "var marker$key= new BMap.Marker(new BMap.Point({$value['lng']}, {$value['lat']})); ";
		echo "map.addOverlay(marker$key); ";
		echo "var infoWindow$key = new BMap.InfoWindow('"."<div>名称 {$value['name']}<div><div>电话 {$value['tel']}<div><div>地址 {$value['addr']}<div><div>介绍 {$value['desc']}<div><img width=270 height=129 src=\"http://www.baidu.com/img/bdlogo.gif\">"."');";
		echo "marker{$key}.addEventListener('click', function(){this.openInfoWindow(infoWindow$key);});";
	}
?>
// var marker1 = new BMap.Marker(new BMap.Point(116.384, 39.925));  // 创建标注
// var marker2 = new BMap.Marker(new BMap.Point(116.37, 39.9075));
// map.addOverlay(marker1);              // 将标注添加到地图中
// map.addOverlay(marker2); 
//创建信息窗口



</script>
