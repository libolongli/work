<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>tree_chart</title>
		<meta name="author" content="Administrator" />
		<!-- Date: 2013-08-21 -->
		<link href="images/css/jquery.jOrgChart.css" type="text/css" rel="stylesheet" />
		<link href="images/css/custom.css" type="text/css" rel="stylesheet" />
	</head>
	<body>
		 <ul id="org" style="display: none"></ul> 	
		 <div id="chart" class="orgChart"></div>
	</body>
	<script src="images/js/jquery-1.8.3.min.js" type="text/javascript"></script>
	<script src="images/js/jquery.jOrgChart.js" type="text/javascript"></script>
	<script type="text/javascript">
	
		var trees = [{"pid":0, "name":"南博教育", data : [
														{"pid":2, "name":"销售部", data : [
																						{"pid":2, "name":"人员A", data :[
																							{"pid":2, "name":"11111", data :[]},
																							{"pid":2, "name":"11111", data :[]},
																							{"pid":2, "name":"11111", data :[]}
																						]},
																						{"pid":2, "name":"人员B", data :[]},
																						{"pid":2, "name":"人员C", data :[]},
																						{"pid":2, "name":"人员D", data :[]}
																						]},
														{"pid":3, "name":"售后服务部", data : [
																						{"pid":2, "name":"人员A", data :[]},
																						{"pid":2, "name":"人员B", data :[]},
																						{"pid":2, "name":"人员C", data :[]}
																						]},
														{"pid":4, "name":"人事部", data : [
																						{"pid":2, "name":"人员A", data :[]},
																						]},
														{"pid":5, "name":"研发部", data : [
																						{"pid":2, "name":"人员A", data :[]},
																						{"pid":2, "name":"人员B", data :[]}
																						]}]
					}];
														
		//人员配置器
		var Trre = function (data, id){
			var view = "";
			
			function newTrre(data, views){
				var html = views + "<ul>";
				for (var i=0; i < data.length; i++) {
				  html += "<li>"+data[i].name;
				   if(data[i].data.length > 0){
				   	 	html = newTrre(data[i].data, html);
				   };
				   html += "</li>";
				};
				html += "</ul>";
				
				return html;
			};
			
			view += "<li>"+data[0].name+""+newTrre(data[0].data, "")+"</li>";
			
			$("#"+id).html(view);
			
		};
		
		new Trre(trees, "org");
	
		jQuery(document).ready(function() {
	        $("#org").jOrgChart({
	            chartElement : '#chart',
	            dragAndDrop  : true
	        });
	    });
	</script>
</html>

